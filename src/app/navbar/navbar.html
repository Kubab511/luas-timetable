<nav class="navbar">
  <h1>{{ heading }}</h1>
  <div class="navbar-controls">
    <button class="dark-mode-toggle" (click)="toggleDarkMode()" [attr.aria-label]="isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'">
      @if (isDarkMode) {
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/>
        </svg>
      } @else {
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49zM12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"/>
        </svg>
      }
    </button>
    <div class="language-dropdown">
    <button class="dropdown-toggle" (click)="toggleDropdown()">
      @if (locale === lang.EN) {
        <img src="/flags/gb.svg" alt="EN">
        <span>English</span>
      } @else {
        <img src="/flags/ie.svg" alt="GA">
        <span>Gaeilge</span>
      }
      <svg class="dropdown-arrow" width="12" height="8" viewBox="0 0 12 8" fill="currentColor">
        <path d="M1 1.5l5 5 5-5" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    @if (isDropdownOpen) {
      <div class="dropdown-menu">
        <button class="dropdown-item" [class.active]="locale === lang.EN" (click)="selectLanguage(lang.EN)">
          <img src="/flags/gb.svg" alt="EN">
          <span>English</span>
        </button>
        <button class="dropdown-item" [class.active]="locale === lang.GA" (click)="selectLanguage(lang.GA)">
          <img src="/flags/ie.svg" alt="GA">
          <span>Gaeilge</span>
        </button>
      </div>
    }
    </div>
  </div>
</nav>
